<!DOCTYPE html>
<html>
	<head>
		<title>Prototype03</title>
        <script type="text/javascript">
			// * Prototype Infographic
			// *         by
			// *     Lok Cheung
			var ctx;
			var canvas;
			//var offset=0;
			var data = new Array(["sale1",89],["sale2",60],["sale3",75],["sale4",20],["sale5",100]);
			function drawGraph(){
				ctx.fillStyle ='#00F';
				i=0;
				for(i=0;i<data.length;i++)
				{
					drawImg(i,data[i][1]%10);
				}
			}			
			function drawImg(index, value) {
				img = new Image();
				img.src = 'images/car.png';
				offset = 1-(value/10);
				ctx.drawImage(img, 0+index*70, 0, img.width*offset, img.height*offset);
			}
			
			function init() {
			  canvas = document.getElementById("myCanvas");
			  ctx = canvas.getContext("2d");
			  drawImg();
			  //call drawGraph every 20 millisecond
			  return setInterval(drawGraph, 20);
			}

		</script>
	</head>

	<body onload="init()">
		<h1>Sale</h1>
		<canvas id="myCanvas" width="500" height="500">
			<!-- Insert fallback content here -->
            Sorry, your browser doesn't support canvas technology
		</canvas>
	</body>
</html>
